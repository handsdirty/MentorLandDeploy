<b>Search Courses</b>
<%= form_tag student_path, :method => :get do %>
    <p>
      <%= text_field_tag :search, params[:search] %>
      <%= submit_tag "Search", :name => nil %>
    </p>
    <p>
      <%= select_tag :search_type, options_for_select(['Search by Course', 'Search by Mentor'], params[:search_type]), {:search_type => 'Search by Course'} %>
    </p>
<% end %>

<% if @typein != nil %>
    <% if @course_list.blank? %>
        <b>No Match Results!</b>
    <% else %>
        <%= render "search" %>
        <%= will_paginate @course_list %>
    <% end %>
    <p>
    </p>
<% end %>

<%= stylesheet_link_tag 'gmaps4rails' %>

<p>
  <b>Email:</b>
  <%= @student.email %>
</p>

<p>
  <b>Name:</b>
  <%= @student.name %>
</p>

<p>
<b>My Role</b>
    <% if @student.has_role? :user %>
    <li>
	User
    </li>
    <% end %>
    <% if @student.has_role? :admin %>
    <li>
    	Admin  
    </li>
    <% end %>
    <% if @student.has_role? :mentor %>
    <li>
    	Mentor
    </li>
    <% end %>
    <% if @student.has_role? :student %>
    <li>
    	Student
    </li>
    <% end %>
</p>


<b>My Cart</b>
<table>
<tr>
	<td>Course Name</td>
	<td>Price</td>
	<td>Capacity</td>
</tr>
<% @my_cart.each do |course| %>
  <tr>
    	<td><%= course.name %></td>
    	<td><%= course.price %></td>
    	<td><%= course.capacity %></td>
  </tr>
<% end %>
</table>
<td> Total price is <%= @total_price %></td>
<%= button_to("Empty Cart", {:controller => "students", :action => "EmptyCart"}, :remote => false, confirm: 'Are you sure to empty the cart?') %>
<%= button_to("Checkout", credit_cards_url, method: :get, :remote => false) %>


<b>My Courses</b>
<table>
<tr>
	<td>Course Name</td>
	<td>Price</td>
	<td>Capacity</td>
</tr>
<% @my_courses.each do |course| %>
  <tr>
    	<td><%= course.name %></td>
    	<td><%= course.price %></td>		
    	<td><%= course.capacity %></td>
  </tr>
<% end %>
</table>


<%=  gmaps4rails(@json) %>

<%= link_to 'Back to Homepage', root_url %>
